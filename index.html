<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ’ª Gym Management System - Admin Panel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body id="appBody">

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#dashboard" onclick="showSection('dashboard')"><i class="fas fa-dumbbell"></i> <span id="gymNameDisplay">GYM MANAGER</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#dashboard" onclick="showSection('dashboard')"><i class="fas fa-home"></i> Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#members" onclick="showSection('members'); loadMemberList()"><i class="fas fa-users"></i> Members</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#fees" onclick="showSection('fees'); loadFeesDueTable()"><i class="fas fa-receipt"></i> Fees</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#finance" onclick="showSection('finance'); loadFinanceRecords()"><i class="fas fa-coins"></i> Income/Expense</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#reports" onclick="showSection('reports'); generateMonthlyReport(); generateAdvancedAnalytics()"><i class="fas fa-chart-line"></i> Reports</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#settings" onclick="showSection('settings'); loadSettings()"><i class="fas fa-cog"></i> Settings</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <div class="container-fluid">
        <div class="row">
            <main class="col-12 content">
                
                <section id="dashboard" class="page-section">
                    <h2 class="text-primary"><i class="fas fa-chart-pie"></i> Dashboard Summary</h2>
                    
                    <div class="row mb-5 g-3" id="summaryCards">
                        </div>

                    <div class="row">
                        <div class="col-lg-6 mb-4">
                            <div class="card shadow-sm border-0 h-100">
                                <div class="card-header bg-success text-white">
                                    <h5 class="mb-0"><i class="fas fa-money-bill-wave"></i> Today's & Monthly Collection</h5>
                                </div>
                                <div class="card-body">
                                    <h4 class="mb-3">Today's Collection: <span id="todayCollection" class="text-success"></span></h4>
                                    <h4>This Month's Collection: <span id="monthCollection" class="text-success"></span></h4>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 mb-4">
                            <div class="card shadow-sm border-0 h-100">
                                <div class="card-header bg-warning text-dark">
                                    <h5 class="mb-0"><i class="fas fa-exclamation-triangle"></i> Overdue Members</h5>
                                </div>
                                <div class="card-body d-flex flex-column justify-content-between">
                                    <p class="card-text">Members with unpaid fees for **previous** months:</p>
                                    <h4 id="overdueMembersCount" class="text-danger">0 Members</h4>
                                    <button class="btn btn-sm btn-outline-danger mt-2 align-self-start" onclick="showSection('fees'); document.getElementById('feeStatusFilter').value = 'Unpaid'; loadFeesDueTable();">View Overdue Fees</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr>
                    <h3 class="text-info mt-5"><i class="fas fa-chart-line"></i> Quick Charts</h3>
                    <div class="row g-4 mb-4">
                        <div class="col-lg-6">
                            <div class="card p-3 border-0 shadow-sm">
                                <h5>Income vs Expense (Last 6 Months)</h5>
                                <div id="incomeExpenseChartQuick" class="d-flex justify-content-around chart-container"></div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="card p-3 border-0 shadow-sm">
                                <h5>New Members vs Inactive (Last 6 Months)</h5>
                                <div id="memberGrowthChartQuick" class="d-flex justify-content-around chart-container"></div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <section id="members" class="page-section" style="display:none;">
                    <h2 class="text-primary"><i class="fas fa-users"></i> Member Management</h2>
                    <div class="card shadow-sm mb-4 border-0">
                        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                            Member List
                            <div>
                                <button class="btn btn-light btn-sm me-2" onclick="exportData('members', 'csv')"><i class="fas fa-file-csv"></i> CSV</button>
                                <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#addMemberModal"><i class="fas fa-plus-circle"></i> Add New Member</button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row mb-3 g-3">
                                <div class="col-md-6">
                                    <input type="text" id="memberSearch" class="form-control" placeholder="Search by Name or Phone..." onkeyup="loadMemberList()">
                                </div>
                                <div class="col-md-3">
                                    <select id="memberFilterStatus" class="form-select" onchange="loadMemberList()">
                                        <option value="all">Filter by Status (All)</option>
                                        <option value="Active">Active</option>
                                        <option value="Inactive">Inactive</option>
                                    </select>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Name</th>
                                            <th>Phone</th>
                                            <th>Joining Date</th>
                                            <th>Monthly Fee</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="memberListTableBody">
                                        </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <div class="modal fade" id="memberProfileModal" tabindex="-1" aria-labelledby="memberProfileModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-xl">
                        <div class="modal-content">
                            <div class="modal-header bg-info text-white">
                                <h5 class="modal-title" id="memberProfileModalLabel">Member Profile: <span id="profileName"></span></h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="row mb-4 g-3">
                                    <div class="col-md-4"><div class="card text-white bg-primary mb-2"><div class="card-body py-2">Total Fee Billed: <h4 id="profileBilled"></h4></div></div></div>
                                    <div class="col-md-4"><div class="card text-white bg-success mb-2"><div class="card-body py-2">Total Fee Received: <h4 id="profileReceived"></h4></div></div></div>
                                    <div class="col-md-4"><div class="card text-white bg-danger mb-2"><div class="card-body py-2">Outstanding Fee: <h4 id="profileOutstanding"></h4></div></div></div>
                                </div>
                                
                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <h6><i class="fas fa-info-circle text-primary"></i> Personal Info</h6>
                                        <p class="mb-1"><strong>Phone:</strong> <span id="profilePhone"></span></p>
                                        <p class="mb-1"><strong>ID/CNIC:</strong> <span id="profileCnic"></span></p>
                                        <p class="mb-1"><strong>Address:</strong> <span id="profileAddress"></span></p>
                                    </div>
                                    <div class="col-md-6">
                                        <h6><i class="fas fa-star text-success"></i> Membership Info</h6>
                                        <p class="mb-1"><strong>Joining Date:</strong> <span id="profileJoiningDate"></span></p>
                                        <p class="mb-1"><strong>Monthly Fee:</strong> <span id="profileMonthlyFee"></span></p>
                                        <p class="mb-1"><strong>Plan:</strong> <span id="profilePlan"></span></p>
                                        <p class="mb-1"><strong>Status:</strong> <span id="profileStatus" class="badge"></span></p>
                                    </div>
                                </div>

                                <div class="d-flex justify-content-between align-items-center">
                                    <h6><i class="fas fa-history text-secondary"></i> Fee History</h6>
                                    <button class="btn btn-sm btn-outline-primary" onclick="generateInvoice(currentProfileMemberId)">
                                        <i class="fas fa-file-invoice"></i> Generate Invoice
                                    </button>
                                </div>
                                <div class="table-responsive">
                                    <table class="table table-sm table-bordered">
                                        <thead>
                                            <tr>
                                                <th>Month/Year</th>
                                                <th>Amount</th>
                                                <th>Status</th>
                                                <th>Date Paid</th>
                                                <th>Method</th>
                                                <th>Notes</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="profileFeeHistoryTableBody">
                                            </tbody>
                                    </table>
                                </div>
                                
                                <button class="btn btn-sm btn-outline-success mt-3" data-bs-toggle="modal" data-bs-target="#addFeeRecordModal">
                                    <i class="fas fa-plus"></i> Add Manual Fee
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <section id="fees" class="page-section" style="display:none;">
                    <h2 class="text-primary"><i class="fas fa-receipt"></i> Fee Management</h2>
                    <div class="card shadow-sm mb-4 border-0">
                        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                            Monthly Fee Dues
                            <button class="btn btn-light btn-sm" onclick="exportData('fees', 'csv')"><i class="fas fa-file-csv"></i> Export Fees</button>
                        </div>
                        <div class="card-body">
                            <div class="row g-3 align-items-end mb-4">
                                <div class="col-md-4 col-lg-3">
                                    <label for="feeMonthFilter" class="form-label">Select Month</label>
                                    <input type="month" id="feeMonthFilter" class="form-control" onchange="loadFeesDueTable()">
                                </div>
                                <div class="col-md-4 col-lg-3">
                                    <label for="feeStatusFilter" class="form-label">Filter Status</label>
                                    <select id="feeStatusFilter" class="form-select" onchange="loadFeesDueTable()">
                                        <option value="all">All</option>
                                        <option value="Paid">Paid</option>
                                        <option value="Unpaid">Unpaid</option>
                                    </select>
                                </div>
                                <div class="col-md-4 col-lg-3">
                                    <button class="btn btn-success w-100" onclick="generateDuesForSelectedMonth()">
                                        <i class="fas fa-money-check-alt"></i> Generate Dues & Invoices
                                    </button>
                                </div>
                            </div>

                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>Member Name</th>
                                            <th>Month/Year</th>
                                            <th>Amount Due</th>
                                            <th>Status</th>
                                            <th>Action</th>
                                            <th>Invoice</th>
                                        </tr>
                                    </thead>
                                    <tbody id="feesDueTableBody">
                                        </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="finance" class="page-section" style="display:none;">
                    <h2 class="text-primary"><i class="fas fa-coins"></i> Income & Expense Management</h2>
                    
                    <div class="card shadow-sm mb-4 border-0">
                        <div class="card-header bg-info text-white">
                            <h5 class="mb-0"><i class="fas fa-plus"></i> Record New Transaction (Other Income / Expense)</h5>
                        </div>
                        <div class="card-body">
                            <form id="financeRecordForm">
                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <label for="recordType" class="form-label">Type</label>
                                        <select id="recordType" class="form-select" required>
                                            <option value="">Select Type</option>
                                            <option value="Income">Income</option>
                                            <option value="Expense">Expense</option>
                                        </select>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="recordDate" class="form-label">Date</label>
                                        <input type="date" id="recordDate" class="form-control" required>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="recordCategory" class="form-label">Category</label>
                                        <input type="text" id="recordCategory" class="form-control" placeholder="e.g. Rent, Supplements, Salaries" required>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="recordAmount" class="form-label">Amount</label>
                                        <input type="number" class="form-control" id="recordAmount" min="0.01" step="0.01" placeholder="Amount" required>
                                    </div>
                                    <div class="col-12">
                                        <label for="recordDescription" class="form-label">Description</label>
                                        <input type="text" id="recordDescription" class="form-control" required>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-info mt-3"><i class="fas fa-save"></i> Save Record</button>
                            </form>
                        </div>
                    </div>

                    <div class="card shadow-sm border-0">
                        <div class="card-header bg-secondary text-white d-flex justify-content-between align-items-center">
                            <h5 class="mb-0"><i class="fas fa-list"></i> All Income & Expense Records</h5>
                            <button class="btn btn-light btn-sm" onclick="exportData('finance', 'csv')"><i class="fas fa-file-csv"></i> Export Finance</button>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Type</th>
                                            <th>Category</th>
                                            <th>Description</th>
                                            <th>Amount</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="financeRecordsTableBody">
                                        </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>
                
                <section id="reports" class="page-section" style="display:none;">
                    <h2 class="text-primary"><i class="fas fa-chart-bar"></i> Monthly Financial Report & Analytics</h2>
                    
                    <div class="card shadow-sm mb-4 border-0">
                        <div class="card-header bg-primary text-white">
                            <h5 class="mb-0">Select Report Month</h5>
                        </div>
                        <div class="card-body">
                            <div class="row g-3 align-items-end">
                                <div class="col-md-4">
                                    <label for="reportMonthYear" class="form-label">Month & Year</label>
                                    <input type="month" id="reportMonthYear" class="form-control" onchange="generateMonthlyReport()">
                                </div>
                                <div class="col-md-4">
                                    <button class="btn btn-success w-100" onclick="generateMonthlyReport()"><i class="fas fa-calculator"></i> Generate Report</button>
                                </div>
                                <div class="col-md-4 text-end">
                                    <button class="btn btn-outline-secondary w-100" onclick="printReport()"><i class="fas fa-print"></i> Print View</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="reportContainer" class="card shadow-sm p-4 border-0 mb-4">
                        </div>

                    <h3 class="text-info mt-5"><i class="fas fa-chart-pie"></i> Advanced Analytics</h3>
                    <div class="row g-4 mb-4">
                        <div class="col-lg-6">
                            <div class="card p-3 border-0 shadow-sm">
                                <h5>Income vs Expense (Last 6 Months)</h5>
                                <div id="incomeExpenseChart" class="d-flex justify-content-around chart-container"></div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="card p-3 border-0 shadow-sm">
                                <h5>New Members vs Inactive (Last 6 Months)</h5>
                                <div id="memberGrowthChart" class="d-flex justify-content-around chart-container"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row g-4 mb-4">
                        <div class="col-lg-4">
                            <div class="card p-3 border-0 shadow-sm bg-light">
                                <h5><i class="fas fa-hand-holding-usd text-primary"></i> Average Revenue per Member</h5>
                                <h3 id="metricAvgRevenue" class="text-primary"></h3>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="card p-3 border-0 shadow-sm bg-light">
                                <h5><i class="fas fa-medal text-success"></i> Most Profitable Month (YTD)</h5>
                                <h3 id="metricMostProfitable" class="text-success"></h3>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="card p-3 border-0 shadow-sm bg-light">
                                <h5><i class="fas fa-star text-warning"></i> Top Paying Member (Total Paid)</h5>
                                <h3 id="metricTopPayer" class="text-warning"></h3>
                            </div>
                        </div>
                    </div>

                </section>

                <section id="settings" class="page-section" style="display:none;">
                    <h2 class="text-primary"><i class="fas fa-cog"></i> Settings & Configuration</h2>

                    <div class="card shadow-sm mb-4 border-0">
                        <div class="card-header bg-secondary text-white">
                            <h5 class="mb-0"><i class="fas fa-paint-roller"></i> Appearance</h5>
                        </div>
                        <div class="card-body">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="darkModeToggle">
                                <label class="form-check-label" for="darkModeToggle">Enable Dark Mode</label>
                            </div>
                        </div>
                    </div>

                    <div class="card shadow-sm mb-4 border-0">
                        <div class="card-header bg-info text-white">
                            <h5 class="mb-0"><i class="fas fa-cogs"></i> General Information</h5>
                        </div>
                        <div class="card-body">
                            <form id="generalSettingsForm">
                                <div class="mb-3">
                                    <label for="gymName" class="form-label">Gym Name</label>
                                    <input type="text" class="form-control" id="gymName" required>
                                </div>
                                <div class="mb-3">
                                    <label for="gymAddress" class="form-label">Address</label>
                                    <input type="text" class="form-control" id="gymAddress">
                                </div>
                                <div class="mb-3">
                                    <label for="gymContact" class="form-label">Contact</label>
                                    <input type="text" class="form-control" id="gymContact">
                                </div>
                                <div class="mb-3">
                                    <label for="currencySymbol" class="form-label">Currency Symbol (e.g., $, PKR)</label>
                                    <input type="text" class="form-control" id="currencySymbol" maxlength="5" required>
                                </div>
                                <button type="submit" class="btn btn-info"><i class="fas fa-save"></i> Save Settings</button>
                            </form>
                        </div>
                    </div>

                    <div class="card shadow-sm mb-4 border-0">
                        <div class="card-header bg-danger text-white">
                            <h5 class="mb-0"><i class="fas fa-history"></i> Backup & Restore</h5>
                        </div>
                        <div class="card-body">
                            <p>Export all application data to a JSON file for backup or transfer.</p>
                            <button class="btn btn-success me-2" onclick="exportData('all', 'json')">
                                <i class="fas fa-download"></i> Export ALL Data (JSON)
                            </button>
                            <hr>
                            <p>Import a previously saved JSON file. **WARNING: This will overwrite ALL existing data!**</p>
                            <input type="file" id="importFileInput" accept=".json" class="form-control mb-2">
                            <button class="btn btn-danger" onclick="restoreData()">
                                <i class="fas fa-upload"></i> Restore Data
                            </button>
                        </div>
                    </div>
                </section>
                
            </main>
        </div>
    </div>

    <div class="modal fade" id="addMemberModal" tabindex="-1" aria-labelledby="addMemberModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="addMemberModalLabel"><i class="fas fa-user-plus"></i> Add New Member</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="memberForm">
                        <input type="hidden" id="memberIdToEdit">
                        <div class="mb-3"><label for="fullName" class="form-label">Full Name</label><input type="text" class="form-control" id="fullName" required></div>
                        <div class="mb-3"><label for="phoneNumber" class="form-label">Phone Number</label><input type="tel" class="form-control" id="phoneNumber" required></div>
                        <div class="mb-3"><label for="cnic" class="form-label">CNIC/ID (Optional)</label><input type="text" class="form-control" id="cnic"></div>
                        <div class="mb-3"><label for="address" class="form-label">Address</label><input type="text" class="form-control" id="address" required></div>
                        <div class="mb-3"><label for="joiningDate" class="form-label">Joining Date</label><input type="date" class="form-control" id="joiningDate" required></div>
                        <div class="mb-3"><label for="membershipPlan" class="form-label">Membership Type / Plan</label><select id="membershipPlan" class="form-select" required><option value="Monthly">Monthly</option><option value="Quarterly">Quarterly</option><option value="Half-Yearly">Half-Yearly</option><option value="Annual">Annual</option></select></div>
                        <div class="mb-3"><label for="monthlyFee" class="form-label">Monthly Fee Amount (<span id="feeCurrencySymbol1">$</span>)</label><input type="number" class="form-control" id="monthlyFee" min="0" step="0.01" required></div>
                        <div class="mb-3"><label for="status" class="form-label">Status</label><select id="status" class="form-select" required><option value="Active">Active</option><option value="Inactive">Inactive</option></select></div>
                        <div class="mb-3"><label for="notes" class="form-label">Notes</label><textarea class="form-control" id="notes"></textarea></div>
                        <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Member</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="markPaidModal" tabindex="-1" aria-labelledby="markPaidModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="markPaidModalLabel"><i class="fas fa-check-circle"></i> Mark Fee as Paid</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="markPaidForm">
                        <input type="hidden" id="feeToMarkPaidId">
                        <div class="mb-3"><label for="datePaid" class="form-label">Date Paid</label><input type="date" class="form-control" id="datePaid" required></div>
                        <div class="mb-3"><label for="paymentMethod" class="form-label">Payment Method</label><select id="paymentMethod" class="form-select" required><option value="Cash">Cash</option><option value="Bank Transfer">Bank Transfer</option><option value="Online">Online Payment</option><option value="Other">Other</option></select></div>
                        <div class="mb-3"><label for="paymentNotes" class="form-label">Notes</label><textarea class="form-control" id="paymentNotes"></textarea></div>
                        <button type="submit" class="btn btn-success"><i class="fas fa-check"></i> Confirm Payment</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="addFeeRecordModal" tabindex="-1" aria-labelledby="addFeeRecordModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="addFeeRecordModalLabel"><i class="fas fa-plus"></i> Add Manual Fee Record</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addFeeRecordForm">
                        <input type="hidden" id="manualFeeMemberId">
                        <input type="hidden" id="manualFeeRecordId">
                        <div class="mb-3"><label for="manualFeeMonthYear" class="form-label">Month & Year Due</label><input type="month" class="form-control" id="manualFeeMonthYear" required></div>
                        <div class="mb-3"><label for="manualFeeAmount" class="form-label">Amount (<span id="feeCurrencySymbol2">$</span>)</label><input type="number" class="form-control" id="manualFeeAmount" min="0.01" step="0.01" required></div>
                        <div class="mb-3 form-check"><input type="checkbox" class="form-check-input" id="manualFeeIsPaid"><label class="form-check-label" for="manualFeeIsPaid">Mark as Paid Now</label></div>
                        <div id="manualFeePaymentDetails" style="display: none;">
                            <div class="mb-3"><label for="manualFeeDatePaid" class="form-label">Date Paid</label><input type="date" class="form-control" id="manualFeeDatePaid"></div>
                            <div class="mb-3"><label for="manualFeePaymentMethod" class="form-label">Payment Method</label><select id="manualFeePaymentMethod" class="form-select"><option value="Cash">Cash</option><option value="Bank Transfer">Bank Transfer</option><option value="Online">Online Payment</option><option value="Other">Other</option></select></div>
                            <div class="mb-3"><label for="manualFeeNotes" class="form-label">Notes</label><textarea class="form-control" id="manualFeeNotes"></textarea></div>
                        </div>
                        <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Save Fee Record</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="liveToast" class="toast align-items-center text-white border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body" id="toastBody"></div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>

</body>
</html>